##############################################
# Terraria Mod 翻訳ガイドライン (LLM最適化版)
# Version: 2025-08-08
# Scope: hjsonローカライズ（ja-JP/en-US 等）
##############################################

== 優先順位 (Higher wins) ==
P1. バニラ ja-JP.hjson の既存表現
P2. 本ガイドライン（Hard Rules > Soft Rules）
P3. 文脈に応じた自然な日本語

== HARD RULES（絶対遵守） ==
[T-1] 値が {} または [] で始まる場合、必ず "..." で囲む（JSON互換維持）
  OK: Key: "{0} レベル…" / Key: "[] リスト…"
[T-2] プレースホルダーが先頭の値（{0},{1},…）は必ず "..." で囲む
  OK: KingsTooltip: "{0}レベルの王たちの庇護を得る"
  NG: KingsTooltip: {0}レベルの王たちの庇護を得る
[T-2b] 名前付きプレースホルダーが先頭の値（{Keybind},{NPCName},…）も必ず "..." で囲む
  OK: KeybindTooltip: "{Keybind} でダッシュ"
  NG: KeybindTooltip: {Keybind} でダッシュ
[T-3] プレースホルダー名は英数波括弧のまま。日本語括弧にしない
  OK: {NPCName}
  NG: ｛NPCName｝ / ［NPCName］
[Q-1] セリフ調 'text' / "text" は「text」に統一（日本語は一重の鉤括弧のみ）
[Q-1a] 例外: TownNPCMood の台詞は、見た目の引用符としてダブルクォート（"…"）を用いる。値は "…" のみでOK（外側の単引用は不要）。
  例: Content: "満足しています"
[Q-2] 二重鉤括弧「「…」」は禁止。常に一重「…」
[S-1] Items の Tooltip/Description は常体・句点なし
[S-1a] Items の Tooltip 内での引用は原則「…」を用いる（英語の "…" は日本語に合わせて「…」に変換）。
[S-2] NPC/Config 等の説明文は丁寧語を許可（句点は文脈に応じて）

== SOFT RULES（推奨） ==
[N-1] アイテム名の訳語パターン
  a) 日本語変換: Iron Sword → 鉄の剣
  b) カタカナ保持: Terra Blade → テラブレード
  c) 前置詞保持: Rod of Discord → ロッド・オブ・ディスコード
[E-1] 数値効果の動詞統一
  増加: damage/knockback/immunity/jump height/mana usage → 「増加」
  上昇: crit chance/drop chance/spawn rate/speed → 「上昇」
  増進: life/mana regeneration → 「増進」
  luck（運）: 「増加/減少」を用いる（例: 「運が{0}増加」「運が{0}減少」）
[E-2] 複合効果は文末側の属性に合わせる
  例: 「ローグダメージと速度が10%上昇」/「速度とローグダメージが10%増加」
[E-3] 数値付き効果の語順統一
  {数値}%{属性}が{動詞} → {属性}が{数値}％{動詞}
  例: {0}%近接攻撃速度が上昇 → 近接攻撃速度が{0}％上昇
[X-1] 定型表現
  ○% chance to not consume X → 「○%の確率でXを消費しない」
  ミニオン/セントリー数 → 「召喚できる…の数がX体増える」
  防御貫通（曖昧）→ 「防御無視値が増加/減少」（数値不明時）
  防御貫通（明確）→ 「敵の防御力をX無視する」（「ポイント」を付けない）
  用語統一（ムチ）→
    ムチ速度 → 「鞭の攻撃速度」
    ムチの射程 → 「鞭の攻撃範囲」

== QUICK CHEATSHEET（参照用） ==
・弾薬節約: 「{P}%の確率で弾薬を消費しない」
・ロケット等の弾種指定: 「{P}%の確率で{弾種}を消費しない」
・防御無視（数値あり）: 「敵の防御力を{N}無視する」
・防御無視（数値不明）: 「防御無視値が増加」
・ムチ関連: 「鞭の攻撃速度」「鞭の攻撃範囲」
・Luck（運）の増減: 「運が{N}増加」「運が{N}減少」

== 専門用語対訳（Glossary） ==
Ichor: 霊液
mana cost: 消費マナ
true (item): 真・(アイテム)
molten: 溶岩
Granite: 御影石
immunity: 耐性
Emblem: 紋章
Fragment: 断片
Lesser [X] Potion: 小型[X]ポーション
  例: Lesser Healing Potion → 小型回復ポーション
      Lesser Mana Potion → 小型マナポーション
luck: 運（数値変化の表現は「増加/減少」を用いる）

== 例（Before → After） ==
1) 引用符変換
  'Rainbow effects!' → 「レインボー効果！」
  "Who said..." → 「誰が…」
2) 先頭プレースホルダー
  Key: {0} bonus → Key: "{0} ボーナス"
3) 構造
  Tooltip: 『…』 → Tooltip: 「…」

== チェックリスト（1回だけ使用） ==
- [ ] S-Style: 文体統一（常体/丁寧語）
- [ ] G-Glossary: 用語対訳の一致
- [ ] V-Vanilla: バニラ表現と整合
- [ ] J-JSON: 先頭{} / [] / {0} の値は "..." で囲まれている（T-1/T-2）
- [ ] Q-Quotes: 二重鉤括弧禁止（Q-2）、セリフは「…」（Q-1）
- [ ] P-Placeholder: {Name} の括弧は英数の{}のまま（T-3）

== 自動検出用（参考・正規表現） ==
1) 二重鉤括弧検出（NG）
  /「「|」」/
2) 先頭プレースホルダーの未引用（NG・行頭～コロンまで任意）
  /^[^#\n]*:\s*\{\d+\}(?!\s*\")/
2b) 先頭が名前付きプレースホルダーの未引用（NG）
  /^[^#\n]*:\s*\{[A-Za-z_][A-Za-z0-9_]*\}(?!\s*\")/
3) 先頭が{} or [] の未引用（NG）
  /^[^#\n]*:\s*(\{|\[)(?!\")/
4) 日本語括弧でのプレースホルダー（NG）
  /[｛］［｝]/
5) TownNPCMood のダブルクォート未付与検出（任意）
  /TownNPCMood:[\s\S]*?:\s*[^'\"]/  （要目視確認）

== 運用メモ ==
- hjsonでは基本的に値の文字列化は必須ではないが、T-1/T-2ケースは必ず "..." で囲む。
- 迷ったら P1→P2→P3 の順で決定。Hard Rules を優先。

-- END --
